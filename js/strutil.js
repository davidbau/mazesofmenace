// Autogenerated translator module for currently-unmapped C source outputs.
// Contents are syntax-validated emitted functions; wiring into runtime is separate.

// TRANSLATOR: AUTO (strutil.c:8)
export function strbuf_init(strbuf) {
  strbuf.str = null;
  strbuf.len = 0;
}

// TRANSLATOR: AUTO (strutil.c:16)
export function strbuf_append(strbuf, str) {
  let len =  strlen(str) + 1;
  strbuf_reserve(strbuf, len + (strbuf.str ?  strlen(strbuf.str) : 0));
  Strcat(strbuf.str, str);
}

// TRANSLATOR: AUTO (strutil.c:27)
export function strbuf_reserve(strbuf, len) {
  if (strbuf.str === null) {
    strbuf.str = strbuf.buf;
    strbuf.str[0] = '\0';
    strbuf.len =  strbuf.length.buf;
  }
  if (len > strbuf.len) {
    let oldbuf = strbuf.str;
    strbuf.len = len +  strbuf.length.buf;
    strbuf.str =  alloc(strbuf.len);
    Strcpy(strbuf.str, oldbuf);
    if (oldbuf !== strbuf.buf) (oldbuf, 0);
  }
}

// TRANSLATOR: AUTO (strutil.c:48)
export function strbuf_empty(strbuf) {
  if (strbuf.str !== null && strbuf.str !== strbuf.buf) (strbuf.str, 0);
  strbuf_init(strbuf);
}

// TRANSLATOR: AUTO (strutil.c:144)
export function pmatch(patrn, strng) {
  return pmatch_internal(patrn, strng, false,  0);
}

// TRANSLATOR: AUTO (strutil.c:151)
export function pmatchi(patrn, strng) {
  return pmatch_internal(patrn, strng, true,  0);
}
