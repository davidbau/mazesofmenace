// Autogenerated translator module for currently-unmapped C source outputs.
// Contents are syntax-validated emitted functions; wiring into runtime is separate.

// Autotranslated from mdlib.c:299
export function mdlib_version_string(outbuf, delim) {
  Sprintf(outbuf, "%d%s%d%s%d", VERSION_MAJOR, delim, VERSION_MINOR, delim, PATCHLEVEL);
  Sprintf(eos(outbuf), "-%d", EDITLEVEL);
  return outbuf;
}

// Autotranslated from mdlib.c:348
export function bannerc_string(outbuf, bufsz, build_date) {
  let subbuf, versbuf;
  subbuf[0] = '\0';
  Strcat(subbuf, " Work-in-progress");
  Snprintf(outbuf, bufsz, " Version %s %s%s, %s %s.", mdlib_version_string(versbuf, "."), PORT_ID, subbuf, date_via_env ? "revised" : "built", build_date);
  return outbuf;
}

// Autotranslated from mdlib.c:626
export function count_and_validate_soundlibopts() {
  let i, cnt = 0;
  for (i = 0; i < SIZE(soundlib_opts) - 1; i++) {
    ++cnt;
    soundlib_opts[i].valid = true;
  }
  return cnt;
}

// Autotranslated from mdlib.c:640
export function opt_out_words(str, length_p) {
  let word;
  while ( str) {
    word = strchr(str, ' ');
    if (word) word = '\0';
    if ( length_p +  strlen(str) > COLNO - 5) {
      STOREOPTTEXT(optbuf);
      Sprintf(optbuf, "%s", opt_indent), length_p =  strlen(opt_indent);
    }
    else { Sprintf(eos(optbuf), " "), ( length_p)++; }
    Sprintf(eos(optbuf), "%s", str), length_p +=  strlen(str);
    str += strlen(str) + (word ? 1 : 0);
  }
}

// Autotranslated from mdlib.c:834
export function runtime_info_init() {
  if (!done_runtime_opt_init_once) {
    done_runtime_opt_init_once = 1;
    build_savebones_compat_string();
    make_version();
    populate_nomakedefs( version);
    idxopttext = 0;
    build_options();
  }
}

// Autotranslated from mdlib.c:863
export function release_runtime_info() {
  while (idxopttext > 0) {
    --idxopttext;
    (opttext[idxopttext], 0), opttext[idxopttext] = 0;
  }
  done_runtime_opt_init_once = 0;
  free_nomakedefs();
}

// Autotranslated from mdlib.c:235
export function md_ignored_features() {
  return (0 | (1 << 19)   | SFCTOOL_BIT   );
}

// Autotranslated from mdlib.c:247
export function make_version() {
  let i;
  version.incarnation = ( VERSION_MAJOR << 24) | ( VERSION_MINOR << 16) | ( PATCHLEVEL << 8) | ( EDITLEVEL);
  version.feature_set =  (0              | (1 << 17)       );
  for (i = 1; artifact_names[i]; i++) {
    continue;
  }
  version.entity_count =  (i - 1);
  i = NUM_OBJECTS;
  version.entity_count = (version.entity_count << 12) |  i;
  i = NUMMONS;
  version.entity_count = (version.entity_count << 12) |  i;
  return;
}
