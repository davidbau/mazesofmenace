<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title | default: site.title }} #{{ site.data.version.commit_number }}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600&family=Source+Code+Pro:ital,wght@0,400;0,500;0,600;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/doc.css">
</head>
<body>
<main>
{{ content }}
</main>
<script>
// Inject build number after first "Royal Jelly" occurrence in the page body.
// The number is embedded in <title> by Jekyll; this keeps README.md clean.
(function() {
  var m = document.title.match(/#(\d+)/);
  if (!m) return;
  var build = '#' + m[1];
  document.querySelectorAll('strong, h1, h2, p').forEach(function(el) {
    if (el.childNodes.length === 1 && el.firstChild.nodeType === 3 &&
        el.firstChild.textContent.includes('Royal Jelly')) {
      el.firstChild.textContent = el.firstChild.textContent.replace(
        'Royal Jelly', 'Royal Jelly ' + build);
      return;
    }
  });
})();

// Open external links in a new tab; internal links navigate normally within
// the in-app docs overlay iframe so readers can browse docs without leaving.
document.querySelectorAll('a[href]').forEach(function(a) {
  var href = a.getAttribute('href');
  if (href && (href.startsWith('http://') || href.startsWith('https://'))) {
    a.setAttribute('target', '_blank');
    a.setAttribute('rel', 'noopener noreferrer');
  }
});
</script>
</body>
</html>
